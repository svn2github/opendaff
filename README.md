
# OpenDAFF - A free, open source software package for directional audio data

OpenDAFF is distributed under the terms of the GNU Lesser Public License (LGPL)

Copyright (c) Institute of Technical Acoustics, RWTH Aachen University, 2009-2016
Visit the OpenDAFF homepage: http://www.opendaff.org


## License and warranty notes

OpenDAFF is free software, distributed under the terms of the GNU Lesser General Public License (LGPL) version 3. You can redistribute it and/or modify it under the terms of the GNU Lesser General Public License (LGPL) version 3, as published by the Free Software Foundation. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. 
See the GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program. If not, see http://www.gnu.org/licenses.


## Quick build guide for Linux developers

OpenDAFF uses CMake to generate project files for your desired development environment and platform. Install a current version of CMake according to the information found on http://www.cmake.org
In the source folder of OpenDAFF that contains the CMakeLists.txt, run 

cmake .
make
make install

Now, a copy of the OpenDAFF static library *DAFF* has been installed on your system (there are no further dependencies required). To also build the 'DAFFViz* visualization library, applications and tests you can activate them with CMake, see group *OPENDAFF* in the configuration list.
DAFFViz, the related tests and also the DAFFViewer require VTK. You may have to set the VTK_DIR appropriately to tell CMake where to look for the VTKConfig.cmake file, and you may require further dependencies like hdf5 pulled by VTK.
The DAFFTool requires the FFTW3 library and libsndfile library. Again, you may have to tell CMAke where to find the package. Also, have a look at the FindXXX.cmake files in the 3rdParty/CMakeModules folder and extend the search pathes if they do not match with your platform structure.


## Build guide for Visual Studio users on Windows

OpenDAFF uses CMake to generate project files for your desired development environment and platform. Install a current version of CMake according to the information found on http://www.cmake.org

Let's assume you have donwloaded the source code of OpenDAFF to the folder *D:/dev/OpenDAFF* and this README along with a file named CMakeLists.txt can be found here.

Start the CMake GUI and enter or browse to your source code folder: *D:/dev/OpenDAFF*
Now, give a place where the project files shall be genereted to, I would choose something like: *D:/dev/OpenDAFF/build*
Hit the Configure button and select the desired Visual Studio compiler and environment version (i.e. Visual Studio 12 2013 Win64, usually the one you have installed on your system).
For startes, change the variable CMAKE_INSTALL_PREFIX to something like *D:/dev/OpenDAFF/dist* to install OpenDAFF into that folder instead of the system's installation path.
Now you can generate the project files and you will find the OpenDAFF.sln solution file in the target folder *D:/dev/OpenDAFF/build*, which you can open with Visual Studio.
In Visual Studio,

The DAFF library that has been build does not include any other third party library. However if you want to proceed with the visualization libraray *DAFFViz*, you will need VTK. Use the installer or retrieve the source code from http://www.vtk.org and follow the instructions given.
Let's assume you have used CMake to build and installed VTK-7.0 into the folder *D:/dev/VTK/dist*. To tell CMake within the OpenDAFF generation process, provide the path to the CMake-related files generated by VTK, which is in the example case located here: *D:/dev/VTK/dist/lib/vtk-7.0*
To do so, set the variable VTK_DIR to the respective folder *D:/dev/VTK/dist/lib/cmake*, and CMake will know how to handle the dependencies.

You can now activate the switch OPENDAFF_BUILD_DAFFVIZ to generate the DAFF visualization library *DAFFViz*. Configure, Generate. Your Visual Studio project will now include this library.

If you want to build the tools, namely the DAFFViewer and the DAFFTool, you will have to retrieve further third party libraries: FFTW3 and libsndfile. You can find Windows binary packages on the websites of the projects. Again, tell CMake where to find the packages inside the CMake GUI window.
You can then activate the switches for the tools. Configer, Generate. Your Visual Studio project will now include the tools.
